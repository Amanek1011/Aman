from aiogram import Router, types

from dotenv import load_dotenv
import keyboards as kb
load_dotenv()

jurist_router = Router(name="jurist_router")  # –î–æ–±–∞–≤–ª—è–µ–º –∏–º—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏


# –°–ø–∏—Å–æ–∫ –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π
free_legal_services = """
üìö <b>–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è —é—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –ø–æ–º–æ—â—å –≤ –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω–µ:</b>

1. <b>–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –∫–ª–∏–Ω–∏–∫–∞ "–ê–¥–∏–ª–µ—Ç"</b>
   - –¢–µ–ª–µ—Ñ–æ–Ω: +996 312 66 06 66
   - –ê–¥—Ä–µ—Å: –≥. –ë–∏—à–∫–µ–∫, —É–ª. –¢—ã–Ω—ã—Å—Ç–∞–Ω–æ–≤–∞, 78

2. <b>–û–§ "–¶–µ–Ω—Ç—Ä –ø–æ–º–æ—â–∏ –∂–µ–Ω—â–∏–Ω–∞–º"</b>
   - –¢–µ–ª–µ—Ñ–æ–Ω: +996 312 88 03 88

3. <b>–û–§ "–ü—Ä–∞–≤–æ–≤–∞—è –ø–æ–º–æ—â—å"</b>
   - –ì–æ—Ä—è—á–∞—è –ª–∏–Ω–∏—è: 0 800 00 00

4. <b>–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –∫–ª–∏–Ω–∏–∫–∞ –ö–ì–Æ–ê</b>
   - –¢–µ–ª–µ—Ñ–æ–Ω: +996 312 54 32 10
"""


def get_jurist_keyboard():
    return types.ReplyKeyboardMarkup(
        keyboard=[
            [types.KeyboardButton(text="–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —é—Ä–∏—Å—Ç—ã")],
            [types.KeyboardButton(text="–ö–∞–∫ –ø–æ–¥–∞—Ç—å –∑–∞—è–≤–ª–µ–Ω–∏–µ?")],
            [types.KeyboardButton(text="–ú–æ–∏ –ø—Ä–∞–≤–∞")],
            [types.KeyboardButton(text="‚Ü©Ô∏è –í—ã–π—Ç–∏ –≤ –º–µ–Ω—é")]
        ],
        resize_keyboard=True,
        input_field_placeholder="–ó–∞–¥–∞–π—Ç–µ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –≤–æ–ø—Ä–æ—Å..."
    )



async def start_jurist(message: types.Message):
    await message.answer(
        "üë®‚öñÔ∏è <b>–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –ø–æ–º–æ—â–Ω–∏–∫</b>\n\n"
        "–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é :",
        reply_markup=get_jurist_keyboard(),
        parse_mode='HTML'
    )



async def show_lawyers(message: types.Message):
    await message.answer(free_legal_services, parse_mode='HTML')



async def how_to_apply(message: types.Message):
    await message.answer(
        "üìù <b>–ö–∞–∫ –ø–æ–¥–∞—Ç—å –∑–∞—è–≤–ª–µ–Ω–∏–µ:</b>\n\n"
        "1. –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã\n2. –°–æ—Å—Ç–∞–≤—å—Ç–µ –∑–∞—è–≤–ª–µ–Ω–∏–µ\n"
        "3. –ü–æ–¥–∞–π—Ç–µ –≤ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—é\n4. –ü–æ–ª—É—á–∏—Ç–µ –æ—Ç–º–µ—Ç–∫—É",
        parse_mode='HTML'
    )



async def basic_rights(message: types.Message):
    await message.answer(
        "üîπ <b>–ì—Ä–∞–∂–¥–∞–Ω—Å–∫–∏–µ –∏ –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∞:</b>\n\n"
        "- –ü—Ä–∞–≤–æ –Ω–∞ –∂–∏–∑–Ω—å, —Å–≤–æ–±–æ–¥—É –∏ –ª–∏—á–Ω—É—é –Ω–µ–ø—Ä–∏–∫–æ—Å–Ω–æ–≤–µ–Ω–Ω–æ—Å—Ç—å ‚Äî –Ω–∏–∫—Ç–æ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ –ª–∏—à—ë–Ω –∂–∏–∑–Ω–∏ –∏–ª–∏ —Å–≤–æ–±–æ–¥—ã.\n"
        "- –°–≤–æ–±–æ–¥–∞ –æ—Ç –ø—ã—Ç–æ–∫ –∏ –∂–µ—Å—Ç–æ–∫–æ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏—è ‚Äî –∑–∞–ø—Ä–µ—â–µ–Ω—ã –ø—ã—Ç–∫–∏ –∏ —É–Ω–∏–∂–∞—é—â–µ–µ –¥–æ—Å—Ç–æ–∏–Ω—Å—Ç–≤–æ –æ–±—Ä–∞—â–µ–Ω–∏–µ.\n"
        "- –°–≤–æ–±–æ–¥–∞ –º—ã—Å–ª–∏, —Å–æ–≤–µ—Å—Ç–∏ –∏ —Ä–µ–ª–∏–≥–∏–∏ ‚Äî –∫–∞–∂–¥—ã–π —á–µ–ª–æ–≤–µ–∫ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–æ –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è —Å–≤–æ–∏—Ö —É–±–µ–∂–¥–µ–Ω–∏–π.\n"
        "- –°–≤–æ–±–æ–¥–∞ —Å–ª–æ–≤–∞ –∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –º–Ω–µ–Ω–∏–π ‚Äî –ø—Ä–∞–≤–æ —Å–≤–æ–±–æ–¥–Ω–æ –≤—ã—Ä–∞–∂–∞—Ç—å —Å–≤–æ–∏ –º—ã—Å–ª–∏.\n"
        "- –ü—Ä–∞–≤–æ –Ω–∞ –º–∏—Ä–Ω—ã–µ —Å–æ–±—Ä–∞–Ω–∏—è –∏ –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏ ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –º–∏—Ç–∏–Ω–≥–∞—Ö –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏.\n"
        "- –ü—Ä–∞–≤–æ –Ω–∞ —É—á–∞—Å—Ç–∏–µ –≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å–≤–æ–µ–π —Å—Ç—Ä–∞–Ω–æ–π ‚Äî –∏–∑–±–∏—Ä–∞—Ç—å –∏ –±—ã—Ç—å –∏–∑–±—Ä–∞–Ω–Ω—ã–º.\n"
        "- –ü—Ä–∞–≤–æ –Ω–∞ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ –ø–µ—Ä–µ–¥ –∑–∞–∫–æ–Ω–æ–º ‚Äî –≤—Å–µ –ª—é–¥–∏ —Ä–∞–≤–Ω—ã –ø–µ—Ä–µ–¥ –∑–∞–∫–æ–Ω–æ–º –∏ –∏–º–µ—é—Ç –ø—Ä–∞–≤–æ –Ω–∞ –∑–∞—â–∏—Ç—É –æ—Ç –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞—Ü–∏–∏.\n"
        "- –ü—Ä–∞–≤–æ –Ω–∞ –º–∏—Ä–Ω—ã–µ —Å–æ–±—Ä–∞–Ω–∏—è –∏ –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏ ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –º–∏—Ç–∏–Ω–≥–∞—Ö –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏.\n\n"
        "üîπ <b>–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ, —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ –∏ –∫—É–ª—å—Ç—É—Ä–Ω—ã–µ –ø—Ä–∞–≤–∞:</b>\n\n"
        "–ü—Ä–∞–≤–æ –Ω–∞ —Ç—Ä—É–¥ –∏ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤—ã–µ —É—Å–ª–æ–≤–∏—è —Ç—Ä—É–¥–∞ ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ç—Ä—É–¥–∞ –∏ –ø—Ä–∞–≤–æ –Ω–∞ –¥–æ—Å—Ç–æ–π–Ω—ã–µ —É—Å–ª–æ–≤–∏—è —Ä–∞–±–æ—Ç—ã.\n"
        "–ü—Ä–∞–≤–æ –Ω–∞ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ–µ –Ω–∞—á–∞–ª—å–Ω–æ–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ.\n"
        "–ü—Ä–∞–≤–æ –Ω–∞ —Å–æ—Ü–∏–∞–ª—å–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ ‚Äî –ø–æ–º–æ—â—å –≤ —Å–ª—É—á–∞–µ –±–µ–∑—Ä–∞–±–æ—Ç–∏—Ü—ã, –∏–Ω–≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –∏ —Å—Ç–∞—Ä–æ—Å—Ç–∏.\n"
        "–ü—Ä–∞–≤–æ –Ω–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –∂–∏–∑–Ω–∏ ‚Äî –µ–¥–∞, –∂–∏–ª—å–µ, –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –ø–æ–º–æ—â—å.\n"
        "–ü—Ä–∞–≤–æ –Ω–∞ —É—á–∞—Å—Ç–∏–µ –≤ –∫—É–ª—å—Ç—É—Ä–Ω–æ–π –∂–∏–∑–Ω–∏ –æ–±—â–µ—Å—Ç–≤–∞ ‚Äî –¥–æ—Å—Ç—É–ø –∫ –Ω–∞—É–∫–µ, –∏—Å–∫—É—Å—Å—Ç–≤—É –∏ –∫—É–ª—å—Ç—É—Ä–Ω—ã–º —Ü–µ–Ω–Ω–æ—Å—Ç—è–º.\n\n"
        "üîπ <b>–ö–æ–ª–ª–µ–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–∞–≤–∞:</b>\n\n"
        "–ü—Ä–∞–≤–æ –Ω–∞ —Å–∞–º–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ ‚Äî –Ω–∞—Ä–æ–¥—ã –∏–º–µ—é—Ç –ø—Ä–∞–≤–æ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —Å–≤–æ–π –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–π —Å—Ç–∞—Ç—É—Å.\n"
        "–ü—Ä–∞–≤–æ –Ω–∞ —Ä–∞–∑–≤–∏—Ç–∏–µ ‚Äî —Å–æ—Ü–∏–∞–ª—å–Ω—ã–π –∏ —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å.\n"
        "–ü—Ä–∞–≤–æ –Ω–∞ –º–∏—Ä ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç –∞–≥—Ä–µ—Å—Å–∏–∏ –∏ –≤–æ–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤.\n"
        "–ü—Ä–∞–≤–æ –Ω–∞ –±–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω—É—é –æ–∫—Ä—É–∂–∞—é—â—É—é —Å—Ä–µ–¥—É ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —É–≥—Ä–æ–∑.\n",
        parse_mode='HTML'
    )



async def exit_jurist(message: types.Message):
    await message.answer(
        "–í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é",
        reply_markup=kb.reply_menu)



# @jurist_router.message(F.text)
# async def handle_question(message: types.Message):
#     try:
#         response = client.chat.completions.create(
#             model="gpt-3.5-turbo",
#             messages=[
#                 {"role": "system", "content": "–¢—ã —é—Ä–∏—Å—Ç –ö–†. –û—Ç–≤–µ—á–∞–π –∫—Ä–∞—Ç–∫–æ –ø–æ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤—É."},
#                 {"role": "user", "content": message.text}
#             ],
#             temperature=0.3,
#             max_tokens=500
#         )
#
#         answer = response.choices[0].message.content
#         await message.answer(
#             f"‚öñÔ∏è <b>–û—Ç–≤–µ—Ç:</b>\n\n{answer}",
#             parse_mode='HTML',
#             reply_markup=get_jurist_keyboard()
#         )
#     except Exception as e:
#         await message.answer("‚ö†Ô∏è –û—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.")